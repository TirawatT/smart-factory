import type { AlertRule } from "@/types";

export const mockAlertRules: AlertRule[] = [
  {
    id: "rule-001",
    name: "Motor Overheat Protection",
    description: "Alert when motor temperature exceeds 80°C",
    deviceId: "dev-006",
    deviceName: "Conveyor Motor A2",
    metric: "temperature",
    operator: "gt",
    threshold: 80,
    unit: "°C",
    severity: "critical",
    channels: ["popup", "email"],
    isActive: true,
    lastTriggered: new Date("2026-02-12T08:44:00Z"),
    createdAt: new Date("2025-07-10T00:00:00Z"),
    updatedAt: new Date("2026-02-12T08:44:00Z"),
  },
  {
    id: "rule-002",
    name: "Motor Temperature Warning",
    description: "Warning when motor controller temp approaches limit",
    deviceId: "dev-003",
    deviceName: "Motor Controller C1",
    metric: "temperature",
    operator: "gt",
    threshold: 50,
    unit: "°C",
    severity: "warning",
    channels: ["popup"],
    isActive: true,
    lastTriggered: new Date("2026-02-12T08:30:00Z"),
    createdAt: new Date("2025-07-15T00:00:00Z"),
    updatedAt: new Date("2026-02-12T08:30:00Z"),
  },
  {
    id: "rule-003",
    name: "High Energy Consumption",
    description: "Info alert when power consumption exceeds baseline",
    deviceId: "dev-005",
    deviceName: "Energy Meter E1",
    metric: "power",
    operator: "gt",
    threshold: 20,
    unit: "kW",
    severity: "info",
    channels: ["popup"],
    isActive: true,
    lastTriggered: new Date("2026-02-12T06:00:00Z"),
    createdAt: new Date("2025-08-01T00:00:00Z"),
    updatedAt: new Date("2026-02-12T06:00:00Z"),
  },
  {
    id: "rule-004",
    name: "Abnormal Vibration Detection",
    description: "Critical alert for vibration above 10 mm/s",
    deviceId: "dev-008",
    deviceName: "Vibration Sensor B1",
    metric: "vibration",
    operator: "gt",
    threshold: 10,
    unit: "mm/s",
    severity: "critical",
    channels: ["popup", "email", "sms"],
    isActive: true,
    lastTriggered: new Date("2026-02-11T13:45:00Z"),
    createdAt: new Date("2025-08-01T00:00:00Z"),
    updatedAt: new Date("2026-02-11T13:45:00Z"),
  },
  {
    id: "rule-005",
    name: "High Pressure Warning",
    description: "Warning when pressure exceeds 3.0 bar",
    deviceId: "dev-002",
    deviceName: "Pressure Sensor B2",
    metric: "pressure",
    operator: "gt",
    threshold: 3.0,
    unit: "bar",
    severity: "warning",
    channels: ["popup"],
    isActive: true,
    lastTriggered: new Date("2026-02-12T08:00:00Z"),
    createdAt: new Date("2025-09-01T00:00:00Z"),
    updatedAt: new Date("2026-02-12T08:00:00Z"),
  },
  {
    id: "rule-006",
    name: "Low Power Factor",
    description: "Alert when power factor drops below 0.85",
    deviceId: "dev-005",
    deviceName: "Energy Meter E1",
    metric: "powerFactor",
    operator: "lt",
    threshold: 0.85,
    unit: "",
    severity: "warning",
    channels: ["popup", "email"],
    isActive: true,
    lastTriggered: undefined,
    createdAt: new Date("2025-08-15T00:00:00Z"),
    updatedAt: new Date("2025-08-15T00:00:00Z"),
  },
];

export function getAlertRuleById(id: string): AlertRule | undefined {
  return mockAlertRules.find((r) => r.id === id);
}

export function getActiveAlertRules(): AlertRule[] {
  return mockAlertRules.filter((r) => r.isActive);
}
